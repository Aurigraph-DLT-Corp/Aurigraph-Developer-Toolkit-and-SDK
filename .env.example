# Aurigraph V11 Cluster - Environment Variables Template
# Copy this file to .env and fill in with actual values
# IMPORTANT: Never commit .env with secrets - use .env.local or secure vault
# Add .env to .gitignore to prevent accidental secret commits

# ========== PostgreSQL Database Credentials ==========
# Used by docker-compose-cluster-tls.yml for all database connections
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=your_secure_postgres_password_here_minimum_32_chars

# PostgreSQL replication password (for HA failover)
POSTGRES_REPLICATION_PASSWORD=your_secure_replication_password_here

# ========== Redis Cache ==========
# Redis password (if authentication enabled)
REDIS_PASSWORD=your_secure_redis_password_here

# ========== Elasticsearch (ELK Stack) ==========
# Elasticsearch admin password
ELASTICSEARCH_PASSWORD=your_secure_elasticsearch_password_here

# ========== Grafana Dashboard ==========
# Grafana admin password (default user: admin)
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_admin_password_here

# ========== Consul Service Discovery ==========
# Consul gossip encryption key
# Generate with: consul keygen
CONSUL_ENCRYPT=your_consul_encrypt_key_here

# ========== TLS/SSL Certificates ==========
# Certificate paths (adjust if using custom locations)
TLS_CERT_PATH=./tls-certs
TLS_KEY_PATH=./tls-certs

# ========== Monitoring & Observability ==========
# Prometheus retention period (default 30d)
PROMETHEUS_RETENTION=30d

# OpenTelemetry collector endpoint
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# ========== Application Settings ==========
# Node ID for Aurigraph V11 cluster
AURIGRAPH_NODE_ID=validator-1

# Consensus protocol (HYPERRAFT_PLUS_PLUS)
CONSENSUS_PROTOCOL=HYPERRAFT_PLUS_PLUS

# Java JVM options
JAVA_OPTS=-XX:+UseG1GC -XX:MaxGCPauseMillis=200 -Xmx2g -Xms1g

# ========== Quarkus Configuration ==========
# Quarkus profile (dev, prod, tls)
QUARKUS_PROFILE=tls

# Quarkus HTTP port
QUARKUS_HTTP_PORT=9003

# ========== Development Settings ==========
# Debug mode (true/false)
DEBUG=false

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# ========== Documentation ==========
# How to generate secure passwords:
# 
# 1. PostgreSQL Password:
#    openssl rand -base64 32
#
# 2. Consul Encrypt Key:
#    consul keygen
#
# 3. General Secure Random:
#    openssl rand -base64 48
#
# 4. From AWS Secrets Manager (production):
#    aws secretsmanager get-secret-value --secret-id aurigraph/postgres --query SecretString --output text
#
# How to use .env file:
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Edit with your values:
#    nano .env (or your editor)
#
# 3. Load variables:
#    source .env
#
# 4. Or use with docker-compose:
#    docker-compose --env-file .env -f docker-compose-cluster-tls.yml up -d
#
# Security Best Practices:
#
# 1. NEVER commit .env with secrets
# 2. Add .env to .gitignore:
#    echo ".env" >> .gitignore
#
# 3. Use .env.local for local development:
#    cp .env .env.local
#    # .env.local is in .gitignore
#
# 4. For production, use secure vault:
#    - AWS Secrets Manager
#    - HashiCorp Vault
#    - Azure Key Vault
#    - Google Secret Manager
#
# 5. Rotate credentials regularly:
#    - Database: Every 90 days
#    - API Keys: Every 180 days
#    - TLS Certificates: Before expiration
#
# 6. Audit credential access:
#    - Log all credential retrievals
#    - Monitor for unusual access patterns
#    - Use service accounts with limited permissions

# ========== Load Order ==========
# When using docker-compose, variables are loaded in this order:
# 1. Inline environment: shell env vars
# 2. .env file (if specified with --env-file)
# 3. Environment section in docker-compose.yml
#
# Higher priority items override lower priority items.
