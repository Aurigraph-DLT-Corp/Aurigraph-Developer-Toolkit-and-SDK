# Aurigraph V11 Standalone Configuration

# Application
quarkus.application.name=Aurigraph DLT
quarkus.application.version=11.0.0

# HTTP Configuration (HTTPS termination handled by Nginx reverse proxy)
# Backend runs HTTP-only on localhost, Nginx handles SSL/TLS
quarkus.http.port=9003
quarkus.http.host=0.0.0.0
quarkus.http.insecure-requests=enabled
quarkus.http.ssl-port=0
# SSL configuration commented out - Nginx handles TLS termination
# quarkus.http.ssl.certificate.key-store-file=certs/keystore.p12
# quarkus.http.ssl.certificate.key-store-password=aurigraph@2025
# quarkus.http.ssl.certificate.key-store-file-type=PKCS12
# quarkus.http.ssl.protocols=TLSv1.3
# quarkus.http.ssl.cipher-suites=TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256

# Test Configuration - Disable SSL for tests
%test.quarkus.http.port=8081
%test.quarkus.http.insecure-requests=enabled
%test.quarkus.http.ssl-port=0
%test.quarkus.http.ssl.certificate.key-store-file=
%test.quarkus.grpc.server.enabled=false

# HTTP/2 Configuration for 2M+ TPS - ULTRA OPTIMIZED (Oct 15, 2025)
# Increased concurrency and buffer sizes for maximum throughput
quarkus.http.http2=true
quarkus.http.limits.max-concurrent-streams=100000
quarkus.http.limits.max-frame-size=16777215
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.http.limits.initial-window-size=2097152
quarkus.http.limits.max-header-size=65536
quarkus.http.limits.max-chunk-size=16384
quarkus.http.io-threads=4
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.http.worker-threads=128
# Use quarkus.thread-pool.max-threads instead (configured below)

# gRPC Configuration for High Performance (HTTP/2 Internal Communication - Phase 4B)
# ENABLED for internal service-to-service communication (50-70% throughput improvement expected)
quarkus.grpc.server.enabled=true
quarkus.grpc.server.port=9004
quarkus.grpc.server.host=0.0.0.0
quarkus.grpc.server.use-separate-server=false
quarkus.grpc.server.enable-reflection-service=true
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.grpc.server.keep-alive-time=30
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.grpc.server.keep-alive-timeout=5
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.grpc.server.permit-keep-alive-time=10
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.grpc.server.permit-keep-alive-without-calls=true
quarkus.grpc.server.max-inbound-message-size=16777216
quarkus.grpc.server.max-inbound-metadata-size=32768

# gRPC Client Configuration - For Service-to-Service Communication
# Consensus Service Client
quarkus.grpc.clients.consensus.host=localhost
quarkus.grpc.clients.consensus.port=9004
quarkus.grpc.clients.consensus.plain-text=true
quarkus.grpc.clients.consensus.use-quarkus-grpc-client=true
quarkus.grpc.clients.consensus.max-inbound-message-size=16777216
quarkus.grpc.clients.consensus.keep-alive-time=30
quarkus.grpc.clients.consensus.keep-alive-timeout=5

# Blockchain Service Client
quarkus.grpc.clients.blockchain.host=localhost
quarkus.grpc.clients.blockchain.port=9004
quarkus.grpc.clients.blockchain.plain-text=true
quarkus.grpc.clients.blockchain.use-quarkus-grpc-client=true
quarkus.grpc.clients.blockchain.max-inbound-message-size=16777216
quarkus.grpc.clients.blockchain.keep-alive-time=30
quarkus.grpc.clients.blockchain.keep-alive-timeout=5

# Transaction Service Client
quarkus.grpc.clients.transaction.host=localhost
quarkus.grpc.clients.transaction.port=9004
quarkus.grpc.clients.transaction.plain-text=true
quarkus.grpc.clients.transaction.use-quarkus-grpc-client=true
quarkus.grpc.clients.transaction.max-inbound-message-size=16777216
quarkus.grpc.clients.transaction.keep-alive-time=30
quarkus.grpc.clients.transaction.keep-alive-timeout=5

# Test mode gRPC client configuration
%test.quarkus.grpc.clients.consensus.host=localhost
%test.quarkus.grpc.clients.consensus.port=9099
%test.quarkus.grpc.clients.blockchain.host=localhost
%test.quarkus.grpc.clients.blockchain.port=9099
%test.quarkus.grpc.clients.transaction.host=localhost
%test.quarkus.grpc.clients.transaction.port=9099

# ==================== LOGGING CONFIGURATION (ELK Stack Integration) ====================

# Console Logging - JSON Format for ELK
quarkus.log.console.json=true
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.pretty-print=false
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.date-format=yyyy-MM-dd'T'HH:mm:ss.SSSZ
quarkus.log.console.json.zone-id=UTC
quarkus.log.console.json.exception-output-type=formatted
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.print-details=true

# Console Logging - Standard Format (for development)
%dev.quarkus.log.console.json=false
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Log Levels
quarkus.log.level=INFO
quarkus.log.category."io.aurigraph".level=INFO
quarkus.log.category."io.aurigraph.v11.logging".level=DEBUG

# Development log levels (more verbose)
%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."io.aurigraph".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.consensus".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.crypto".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.bridge".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.ai".level=DEBUG

# Production log levels (more restrictive)
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."io.aurigraph".level=INFO
%prod.quarkus.log.category."io.aurigraph.v11.logging".level=INFO

# File Logging - JSON Format for Logstash Collection
# DEPRECATED - Use quarkus.log.file.path instead: quarkus.log.file.enable=true
quarkus.log.file.path=/var/log/aurigraph/application.log
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.file.json=true
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.file.json.pretty-print=false
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.file.json.date-format=yyyy-MM-dd'T'HH:mm:ss.SSSZ
quarkus.log.file.rotation.max-file-size=100M
quarkus.log.file.rotation.max-backup-index=10
quarkus.log.file.rotation.rotate-on-boot=true

# Development file logging (local directory)
%dev.quarkus.log.file.path=./logs/application.log

# Test mode (disable file logging)
# %test.quarkus.log.file.path= # Commented out - empty value causes validation error

# Structured Logging Configuration
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.additional-field."service.name".value=aurigraph-v11
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.additional-field."service.version".value=11.3.1
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.additional-field."service.environment".value=production
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.log.console.json.additional-field."service.platform".value=java-quarkus

# Development environment tag
# REMOVED - Not recognized in Quarkus 3.28.2: %dev.quarkus.log.console.json.additional-field."service.environment".value=development

# Production environment tag
# REMOVED - Not recognized in Quarkus 3.28.2: %prod.quarkus.log.console.json.additional-field."service.environment".value=production

# Logstash destination (for direct TCP shipping - optional)
# Uncomment to enable direct Logstash shipping
# quarkus.log.handler.logstash.enabled=true
# quarkus.log.handler.logstash.host=localhost
# quarkus.log.handler.logstash.port=5000
# quarkus.log.handler.logstash.protocol=TCP

# Database configuration moved to "DATABASE CONFIGURATION" section (line ~611)

# LevelDB Configuration (Per-Node Embedded Storage - Bare Metal)
# Path is outside Docker containers for persistence and performance
leveldb.data.path=/var/lib/aurigraph/leveldb/${consensus.node.id:node-1}
leveldb.cache.size.mb=256
leveldb.write.buffer.mb=64
leveldb.compression.enabled=true

# Development LevelDB settings
%dev.leveldb.data.path=./data/leveldb/dev-node
%dev.leveldb.cache.size.mb=128
%dev.leveldb.write.buffer.mb=32

# Production LevelDB settings (Bare Metal - Outside Containers)
%prod.leveldb.data.path=/var/lib/aurigraph/leveldb/${consensus.node.id:prod-node-1}
%prod.leveldb.cache.size.mb=512
%prod.leveldb.write.buffer.mb=128

# Health checks
quarkus.smallrye-health.root-path=/q/health

# Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true

# CORS Configuration for dlt.aurigraph.io deployment (HTTPS-only)
# NOTE: CORS support requires quarkus-vertx-http extension (should be included)
# WARNING: If showing as unrecognized, verify quarkus-vertx-http dependency in pom.xml
quarkus.http.cors=true
quarkus.http.cors.origins=https://dlt.aurigraph.io:9443,https://dev4.aurex.in,https://aurigraphdlt.dev4.aurex.in,http://localhost:5173,https://localhost:5173,http://localhost:3000,https://localhost:3000
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers
quarkus.http.cors.exposed-headers=Location,Content-Disposition
quarkus.http.cors.access-control-max-age=86400
quarkus.http.cors.access-control-allow-credentials=true

# Native compilation settings
quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.channel.unix.Socket,--initialize-at-run-time=io.grpc.netty.shaded.io.netty.channel.unix.Socket
quarkus.native.container-build=true
quarkus.native.container-runtime=docker
quarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel:24-java21
quarkus.native.enable-https-url-handler=true
quarkus.native.resources.includes=*.proto

# Virtual Threads (Java 21) - DISABLED IN PHASE 4A
# Phase 4A Optimization: Replaced virtual threads with platform thread pool
# Reduces CPU overhead from 56.35% to <5%, improves TPS by +350K
quarkus.virtual-threads.enabled=false
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.virtual-threads.name-pattern=aurigraph-vt-#

# ==================== PHASE 4A: PLATFORM THREAD POOL CONFIGURATION ====================
# Replaces virtual threads to reduce CPU overhead from 56.35% to <5%
# Expected TPS improvement: +350K (776K â†’ 1.1M+)
aurigraph.thread.pool.size=256
aurigraph.thread.pool.queue.size=500000
aurigraph.thread.pool.keep.alive.seconds=60
aurigraph.thread.pool.metrics.enabled=true

# Performance Tuning for 2M+ TPS
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.http.so-reuse-port=true
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.http.tcp-quick-ack=true
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.http.tcp-cork=true
# REMOVED - Not recognized in Quarkus 3.28.2: quarkus.http.tcp-fast-open=true
# These TCP optimizations are typically OS-level settings, not Quarkus properties

# gRPC Network Optimization
# NOTE: These are custom properties (not standard Quarkus), may be used by application code
# If not referenced in Java code, they can be safely removed
grpc.max-concurrent-streams=10000
grpc.initial-window-size=1048576
grpc.max-frame-size=16777215
grpc.keep-alive-time=30
grpc.keep-alive-timeout=5
grpc.event-loop-threads=0
grpc.use-epoll=false

# Connection Pool Configuration
grpc.pool.max-connections=1000
grpc.pool.min-connections=10
grpc.pool.connection-timeout=30
grpc.pool.health-check-interval=10
grpc.pool.max-idle-time=300

# Stream Compression Configuration
grpc.compression.enabled=true
grpc.compression.algorithm=gzip
grpc.compression.min-size=1024
grpc.compression.level=6
grpc.compression.adaptive=true

# Load Balancer Configuration
grpc.lb.algorithm=LEAST_CONNECTIONS
grpc.lb.health-check-interval=5
grpc.lb.failover-threshold=3
grpc.lb.recovery-interval=30
grpc.lb.sticky-sessions=false

# HyperRAFT++ Consensus Configuration - SPRINT 6 OPTIMIZED (Oct 20, 2025: 3.5M+ TPS Target)
consensus.node.id=aurigraph-v11-xeon15-node-1
consensus.validators=aurigraph-v11-xeon15-node-1,aurigraph-v11-xeon15-node-2,aurigraph-v11-xeon15-node-3,aurigraph-v11-xeon15-node-4,aurigraph-v11-xeon15-node-5
consensus.election.timeout.ms=750
consensus.heartbeat.interval.ms=75
consensus.batch.size=175000
consensus.pipeline.depth=45
consensus.parallel.threads=896
consensus.target.tps=3500000

# Development mode (HTTP-only for easier local testing)
%dev.quarkus.http.port=9003
%dev.quarkus.http.insecure-requests=enabled
%dev.quarkus.http.ssl-port=0
%dev.quarkus.http.ssl.certificate.key-store-file=
%dev.quarkus.grpc.server.port=9004
%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."io.aurigraph".level=DEBUG
%dev.quarkus.grpc.server.reflection-service=true

# Production mode (HTTP-only, HTTPS handled by Nginx)
%prod.quarkus.http.insecure-requests=enabled
%prod.quarkus.http.ssl-port=0

# Development consensus settings - SPRINT 6 OPTIMIZED (Oct 20, 2025: 3.5M+ TPS)
# Tuned based on performance analysis: larger batches + more parallelism
%dev.consensus.batch.size=87500
%dev.consensus.parallel.threads=896
%dev.consensus.target.tps=3500000
%dev.consensus.election.timeout.ms=500
%dev.consensus.heartbeat.interval.ms=50

# Production consensus settings - SPRINT 6 ULTRA (Oct 20, 2025: 3.5M+ TPS)
%prod.consensus.batch.size=175000
%prod.consensus.pipeline.depth=90
%prod.consensus.parallel.threads=1152
%prod.consensus.target.tps=3500000
%prod.consensus.election.timeout.ms=300
%prod.consensus.heartbeat.interval.ms=25

# ==================== AI OPTIMIZATION CONFIGURATION - COMPREHENSIVE (AV11-2002) ====================
# Core AI Optimization - SPRINT 6 ENHANCED (Oct 20, 2025: 3.5M+ TPS Target)
ai.optimization.enabled=true
ai.optimization.learning.rate=0.0001
ai.optimization.model.update.interval.ms=5000
ai.optimization.prediction.window.ms=2000
ai.optimization.anomaly.threshold=0.90
ai.optimization.target.tps=3500000
ai.optimization.min.confidence=0.80

# AI Module Enable/Disable Flags (for AIConfigurationValidationTest)
ai.consensus.optimizer.enabled=true
ai.predictive.ordering.enabled=true
ai.anomaly.detection.enabled=true
ai.adaptive.batching.enabled=true

# AI Performance Targets - SPRINT 6 (for AIConfigurationValidationTest)
ai.consensus.target.tps=3500000
ai.consensus.target.latency.ms=100
ai.consensus.target.success.rate=0.99
ai.consensus.anomaly.threshold=0.90
ai.consensus.model.update.interval.ms=30000
ai.consensus.prediction.window.size=100

# Machine Learning Configuration (for AIConfigurationValidationTest)
ai.ml.learning.rate=0.001
ai.ml.epochs=100
ai.ml.batch.size=32
ai.ml.random.forest.trees=100
ai.ml.gradient.boost.iterations=100
ai.ml.lstm.sequence.length=50

# Reinforcement Learning Configuration (for AIConfigurationValidationTest)
ai.rl.exploration.rate=0.1
ai.rl.learning.rate=0.01
ai.rl.discount.factor=0.95
ai.rl.epsilon.decay=0.995
ai.rl.min.epsilon=0.01

# Anomaly Detection Configuration (for AIConfigurationValidationTest)
ai.anomaly.detection.contamination.rate=0.05
ai.anomaly.throughput.degradation.threshold=2.0
ai.anomaly.latency.spike.threshold=3.0
ai.anomaly.success.rate.degradation.threshold=2.0
ai.anomaly.resource.utilization.threshold=5.0

# AI Resource Configuration (for AIConfigurationValidationTest)
ai.resources.thread.pool.size=256
ai.resources.memory.limit.mb=4096
ai.resources.disk.cache.size.mb=1024
ai.executor.ai.processing.threads=128

# AI Monitoring Configuration (for AIConfigurationValidationTest)
ai.monitoring.enabled=true
ai.monitoring.interval.ms=5000
ai.monitoring.health.check.interval.ms=10000
ai.monitoring.metrics.retention.hours=168

# AI Batch Processing Configuration (for AIConfigurationValidationTest)
ai.batch.min.size=1000
ai.batch.max.size=100000
ai.batch.target.size=10000
ai.batch.timeout.ms=1000
ai.batch.optimization.interval.ms=5000

# AI Security Configuration (for AIConfigurationValidationTest)
ai.security.model.encryption.enabled=true
ai.security.data.anonymization.enabled=true
ai.security.audit.logging.enabled=true

# AI Data Retention (for AIConfigurationValidationTest)
ai.training.data.retention.days=90

# AI Integration Configuration (for AIConfigurationValidationTest)
ai.integration.enabled=true
ai.integration.consensus.service.enabled=true
ai.integration.sync.interval.ms=1000
ai.integration.circuit.breaker.enabled=true
ai.integration.circuit.breaker.failure.threshold=5

# AI Debug Configuration (for AIConfigurationValidationTest)
ai.debug.enabled=false
ai.debug.log.level=info
ai.test.mode.enabled=false
ai.test.benchmark.mode.enabled=false

# Predictive Routing Engine Configuration
routing.prediction.enabled=true
routing.prediction.window.ms=1000
routing.load.balance.threshold=0.8
routing.congestion.threshold=0.75
routing.node.count=5
routing.prediction.accuracy.target=0.90

# Anomaly Detection Configuration
anomaly.detection.enabled=true
anomaly.detection.sensitivity=0.95
anomaly.detection.window.size=1000
anomaly.detection.update.interval.ms=5000
anomaly.detection.alert.threshold=0.8
anomaly.detection.response.timeout.ms=30000
anomaly.detection.false.positive.target=0.02

# ML Load Balancer Configuration - SPRINT 6 ENHANCED
ml.loadbalancer.enabled=true
ml.loadbalancer.algorithm=REINFORCEMENT_LEARNING
ml.loadbalancer.rebalance.interval.ms=5000
ml.loadbalancer.prediction.window.ms=10000
ml.loadbalancer.resource.count=8
ml.loadbalancer.load.threshold=0.8
ml.loadbalancer.learning.rate=0.01
ml.loadbalancer.exploration.rate=0.1

# Sprint 6: Online Learning Configuration (3.5M TPS Target)
ml.loadbalancer.online.learning.enabled=true
ml.loadbalancer.experience.replay.size=10000
ml.loadbalancer.adaptive.learning.rate=true

# Adaptive Batch Processor Configuration - ULTRA-OPTIMIZED
batch.processor.enabled=true
batch.processor.min.size=1000
batch.processor.max.size=500000
batch.processor.default.size=250000
batch.processor.timeout.ms=1000
batch.processor.adaptation.interval.ms=500
batch.processor.parallel.workers=512
batch.processor.compression.enabled=true
batch.processor.priority.levels=8

# Development AI settings (smaller for testing)
%dev.ai.optimization.target.tps=500000
%dev.routing.node.count=3
%dev.ml.loadbalancer.resource.count=4
%dev.batch.processor.max.size=20000
%dev.batch.processor.parallel.workers=16

# Production AI settings (optimized for maximum performance)
%prod.ai.optimization.target.tps=5000000
%prod.routing.node.count=10
%prod.ml.loadbalancer.resource.count=16
%prod.batch.processor.max.size=200000
%prod.batch.processor.parallel.workers=128
%prod.ai.optimization.learning.rate=0.0001
%prod.ai.optimization.model.update.interval.ms=5000

# Ultra-Performance Configuration for 10M+ TPS Target - ULTRA-OPTIMIZED (Oct 21, 2025 - Sprint 11)
# Lock-free data structures, xxHash, 4K shards, 4M virtual threads
# SPRINT 11 OPTIMIZATION: Removed 50K batch size cap, using 175K max batch size
aurigraph.transaction.shards=4096
aurigraph.batch.size.optimal=175000
aurigraph.batch.size.max=175000
aurigraph.processing.parallelism=2048
aurigraph.virtual.threads.max=4000000
aurigraph.cache.size.max=50000000
aurigraph.ultra.performance.mode=true

# xxHash Optimization (Sprint 5-6: 10x+ faster than SHA-256)
xxhash.optimization.enabled=true

# Memory-Mapped Transaction Pool Configuration - ULTRA-OPTIMIZED
aurigraph.memory.pool.enabled=true
aurigraph.memory.pool.size.mb=8192
aurigraph.memory.pool.segments=512
aurigraph.memory.pool.allocation.strategy=LOCK_FREE
aurigraph.memory.pool.prealloc=true
aurigraph.memory.pool.huge.pages=true

# SIMD and Cache Optimization - PRODUCTION ENABLED
aurigraph.simd.enabled=true
aurigraph.simd.vector.size=512
aurigraph.cache.line.size=64
aurigraph.cache.prefetch=true
aurigraph.numa.aware=true
aurigraph.numa.interleave=true
aurigraph.cpu.affinity.enabled=true
aurigraph.cpu.cores=16
aurigraph.cpu.worker.threads=256

# Lock-Free Data Structure Configuration
aurigraph.lockfree.enabled=true
aurigraph.lockfree.retry.limit=1000
aurigraph.lockfree.backoff.strategy=EXPONENTIAL

# Virtual Thread Pool Configuration - SPRINT 11 PHASE 3 OPTIMIZED (Oct 21, 2025)
# Based on hot path profiling: Reduced thread count from 2,137 to 32 for optimal CPU utilization
# Profiling showed excessive thread switching overhead with higher counts
# Expected improvement: +15-20% TPS from reduced context switching
quarkus.virtual-threads.shutdown-timeout=60
quarkus.thread-pool.core-threads=1024
quarkus.thread-pool.max-threads=4096
quarkus.thread-pool.queue-size=500000

# SPRINT 11 HOT PATH OPTIMIZATION: Virtual thread scheduler tuning
# Limits virtual thread pool to prevent excessive context switching (was 2,137 threads)
# System property equivalents (use via JAVA_OPTS):
#   -Djdk.virtualThreadScheduler.parallelism=32
#   -Djdk.virtualThreadScheduler.maxPoolSize=32
# Note: These are JVM system properties, not Quarkus config. Add to startup command:
# java -Djdk.virtualThreadScheduler.parallelism=32 -Djdk.virtualThreadScheduler.maxPoolSize=32 -jar app.jar


# Regulatory Compliance
regulatory.fda.enabled=true
regulatory.gdpr.enabled=true
regulatory.soc2.type2.enabled=true
regulatory.automated.reporting=true

# RWA (Real-World Asset) Verification Configuration
aurigraph.rwa.verification.mode=OPTIONAL
aurigraph.rwa.verification.timeout=7
aurigraph.rwa.verification.max.verifiers=5
aurigraph.rwa.verification.min.consensus=0.51
aurigraph.rwa.verification.quantum.encryption.enabled=true

# RWA Asset Value Tiers and Verifier Requirements
aurigraph.rwa.tier1.max.value=100000
aurigraph.rwa.tier1.required.verifiers=1
aurigraph.rwa.tier2.max.value=1000000
aurigraph.rwa.tier2.required.verifiers=2
aurigraph.rwa.tier3.max.value=10000000
aurigraph.rwa.tier3.required.verifiers=3
aurigraph.rwa.tier4.required.verifiers=5

# RWA Digital Signature Configuration (CRYSTALS-Dilithium)
aurigraph.rwa.signature.algorithm=CRYSTALS_DILITHIUM
aurigraph.rwa.signature.security.level=5
aurigraph.rwa.signature.key.size=2528
aurigraph.rwa.hash.algorithm=SHA3_256

# Development RWA Settings (Relaxed for testing)
%dev.aurigraph.rwa.verification.mode=DISABLED
%dev.aurigraph.rwa.verification.timeout=1
%dev.aurigraph.rwa.verification.max.verifiers=2
%dev.aurigraph.rwa.verification.quantum.encryption.enabled=false

# Test RWA Settings (Optional for testing flows)
%test.aurigraph.rwa.verification.mode=OPTIONAL
%test.aurigraph.rwa.verification.timeout=2
%test.aurigraph.rwa.verification.max.verifiers=2
%test.aurigraph.rwa.verification.mock.enabled=true

# Production RWA Settings (Mandatory with maximum security)
%prod.aurigraph.rwa.verification.mode=MANDATORY
%prod.aurigraph.rwa.verification.timeout=7
%prod.aurigraph.rwa.verification.max.verifiers=5
%prod.aurigraph.rwa.verification.min.consensus=0.51
%prod.aurigraph.rwa.verification.quantum.encryption.enabled=true
%prod.aurigraph.rwa.verification.hsm.enabled=true
%prod.aurigraph.rwa.signature.security.level=5
# ===========================================
# V4 PROFILE CONFIGURATION (Port 9004)
# Enhanced for 3M+ TPS Production Deployment
# ===========================================

# V4 HTTP Configuration
%v4.quarkus.http.port=9004
%v4.quarkus.http.host=0.0.0.0
%v4.quarkus.http.http2=true

# V4 gRPC Configuration
%v4.quarkus.grpc.server.port=9005
%v4.quarkus.grpc.server.host=0.0.0.0
%v4.quarkus.grpc.server.use-separate-server=true

# V4 Performance Optimization
%v4.consensus.target.tps=3000000
%v4.consensus.batch.size=20000
%v4.consensus.parallel.threads=512
%v4.consensus.pipeline.depth=50

# V4 AI Optimization
%v4.ai.optimization.enabled=true
%v4.ai.optimization.target.tps=5000000
%v4.ai.optimization.learning.rate=0.0001
%v4.ai.optimization.model.update.interval.ms=3000

# V4 Ultra Performance Mode
%v4.aurigraph.ultra.performance.mode=true
%v4.aurigraph.transaction.shards=512
%v4.aurigraph.batch.size.optimal=25000
%v4.aurigraph.processing.parallelism=1024
%v4.aurigraph.virtual.threads.max=200000

# V4 Memory Optimization
%v4.aurigraph.memory.pool.enabled=true
%v4.aurigraph.memory.pool.size.mb=4096
%v4.aurigraph.memory.pool.segments=256

# V4 Native Compilation Settings
%v4.quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.channel.unix.Socket,--enable-preview,--gc=G1
%v4.quarkus.native.container-build=false

# V4 CORS Configuration for Production
%v4.quarkus.http.cors=true
%v4.quarkus.http.cors.origins=https://dlt.aurigraph.io,http://dlt.aurigraph.io
%v4.quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
%v4.quarkus.http.cors.headers=Content-Type,Authorization,X-Requested-With,Accept,Origin
%v4.quarkus.http.cors.access-control-allow-credentials=true

# V4 Logging Configuration
%v4.quarkus.log.level=INFO
%v4.quarkus.log.category."io.aurigraph".level=INFO
%v4.quarkus.log.console.format=%d{HH:mm:ss} %-5p [V4][%c{2.}] (%t) %s%e%n

# V4 Monitoring and Health
%v4.quarkus.micrometer.enabled=true
%v4.quarkus.micrometer.export.prometheus.enabled=true
%v4.quarkus.smallrye-health.root-path=/v4/health


# Security filter configuration (required when security headers are configured)
quarkus.http.filter.security.matches=/*
# File logging disabled (deprecated property removed)

# Bridge configuration defaults (optional for initial deployment)
bridge.ethereum.private.key=${BRIDGE_ETH_KEY:placeholder}
bridge.solana.private.key=${BRIDGE_SOL_KEY:placeholder}
bridge.layerzero.relayer.address=${BRIDGE_LZ_RELAYER:placeholder}
bridge.layerzero.oracle.address=${BRIDGE_LZ_ORACLE:placeholder}
bridge.layerzero.private.key=${BRIDGE_LZ_KEY:placeholder}
bridge.solana.program.address=${BRIDGE_SOL_PROGRAM:placeholder}
bridge.processing.delay.min=5000
bridge.processing.delay.max=10000

# ==================== COMPLIANCE CONFIGURATION (AV11-406) ====================

# KYC/AML Provider Configuration
compliance.kyc.provider.enabled=true
compliance.kyc.verification.expiry.days=365
compliance.aml.provider.enabled=true
compliance.aml.check.interval.days=90

# Sanctions Screening Configuration
compliance.sanctions.enabled=true
compliance.sanctions.cache.ttl.hours=24
compliance.sanctions.auto.refresh.enabled=true

# Regulatory Reporting Configuration
compliance.reporting.enabled=true
compliance.reporting.auto.submit=false
compliance.reporting.retention.years=7

# Tax Reporting Configuration
compliance.tax.enabled=true
compliance.tax.auto.generate=false
compliance.tax.default.method=FIFO

# Development Compliance Settings (relaxed)
%dev.compliance.kyc.provider.enabled=false
%dev.compliance.aml.provider.enabled=false
%dev.compliance.sanctions.enabled=false
%dev.compliance.reporting.enabled=true
%dev.compliance.tax.enabled=true

# Production Compliance Settings (strict)
%prod.compliance.kyc.provider.enabled=true
%prod.compliance.aml.provider.enabled=true
%prod.compliance.sanctions.enabled=true
%prod.compliance.reporting.enabled=true
%prod.compliance.reporting.auto.submit=true
%prod.compliance.tax.enabled=true
%prod.compliance.kyc.verification.expiry.days=365
%prod.compliance.aml.check.interval.days=30

# ==================== DATABASE CONFIGURATION (AV11-406 + Sprint 9) ====================

# Default database (PostgreSQL for production-grade persistence)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=aurigraph
quarkus.datasource.password=aurigraph2025
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/aurigraph_demos

# Hibernate ORM configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file

# Panache configuration - Include all entity packages
quarkus.hibernate-orm.packages=io.aurigraph.v11.models,io.aurigraph.v11.contracts.rwa.compliance.entities,io.aurigraph.v11.user,io.aurigraph.v11.demo.model

# Development database settings (PostgreSQL - dev database)
%dev.quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.username=aurigraph
%dev.quarkus.datasource.password=aurigraph2025
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/aurigraph_demos
%dev.quarkus.hibernate-orm.database.generation=update
%dev.quarkus.hibernate-orm.log.sql=true

# Test database settings (PostgreSQL - test database with dedicated user)
%test.quarkus.datasource.db-kind=postgresql
%test.quarkus.datasource.username=aurigraph_test_user
%test.quarkus.datasource.password=test_password
%test.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/aurigraph_test
%test.quarkus.hibernate-orm.database.generation=update
%test.quarkus.hibernate-orm.log.sql=false
# Disable Flyway in test mode (use Hibernate auto-generation instead)
%test.quarkus.flyway.migrate-at-start=false

# Production database settings (PostgreSQL for production-grade persistence)
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.username=aurigraph
%prod.quarkus.datasource.password=aurigraph2025
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/aurigraph_demos
# REVERTED TO PHASE 1 (Oct 21, 2025): Phase 2 caused performance degradation
%prod.quarkus.datasource.jdbc.max-size=20
%prod.quarkus.datasource.jdbc.min-size=5
%prod.quarkus.hibernate-orm.database.generation=update
%prod.quarkus.hibernate-orm.log.sql=false

# Connection pool settings - REVERTED TO PHASE 1 (Oct 21, 2025)
quarkus.datasource.jdbc.max-size=20
quarkus.datasource.jdbc.min-size=5
quarkus.datasource.jdbc.acquisition-timeout=5
quarkus.datasource.jdbc.background-validation-interval=2M
quarkus.datasource.jdbc.idle-removal-interval=10M
quarkus.datasource.jdbc.max-lifetime=PT30M
quarkus.datasource.jdbc.leak-detection-interval=PT5M
# Enable prepared statement caching for performance
quarkus.datasource.jdbc.enable-metrics=true
quarkus.datasource.jdbc.detection-interval=PT2M

# ==================== FLYWAY DATABASE MIGRATION CONFIGURATION ====================

# Enable Flyway migrations for database schema management
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.clean-disabled=false
quarkus.flyway.repair-on-migrate=true

# Development Flyway settings
%dev.quarkus.flyway.migrate-at-start=true
%dev.quarkus.flyway.baseline-on-migrate=true
%dev.quarkus.flyway.repair-on-migrate=true

# Test Flyway settings - DISABLED (use Hibernate schema generation)
%test.quarkus.flyway.migrate-at-start=false
%test.quarkus.flyway.baseline-on-migrate=false
%test.quarkus.flyway.clean-disabled=true
%test.quarkus.flyway.repair-on-migrate=false

# Production Flyway settings
%prod.quarkus.flyway.migrate-at-start=true
%prod.quarkus.flyway.baseline-on-migrate=false
%prod.quarkus.flyway.clean-disabled=true
%prod.quarkus.flyway.repair-on-migrate=true

hsm.pin=test-pin-12345

# ==================== LEVELDB SECURITY CONFIGURATION (Oct 2025 - Security Enhancement) ====================

# LevelDB Encryption (AES-256-GCM) - DISABLED by default, enable in production
leveldb.encryption.enabled=false
leveldb.encryption.algorithm=AES-256-GCM
leveldb.encryption.key.path=/var/lib/aurigraph/keys/leveldb-master.key
leveldb.encryption.key.rotation.days=90
leveldb.encryption.master.password=changeme-default-password

# LevelDB HSM Integration (for production)
leveldb.encryption.hsm.enabled=false
leveldb.encryption.hsm.provider=PKCS11
leveldb.encryption.hsm.slot=0

# LevelDB Access Control (RBAC) - DISABLED by default
leveldb.security.rbac.enabled=false
leveldb.security.allow.anonymous=true

# LevelDB Input Validation
leveldb.validation.enabled=true
leveldb.validation.max.key.length=1024
leveldb.validation.max.value.length=10485760

# LevelDB Backup (Encrypted)
leveldb.backup.path=/var/lib/aurigraph/backups/leveldb
leveldb.backup.retention.days=30
leveldb.backup.compression.enabled=true
leveldb.backup.encryption.enabled=true
leveldb.backup.automatic.enabled=true

# LevelDB Security Audit
leveldb.security.audit.enabled=true
leveldb.security.audit.retention.days=365

# Development Settings - Less Strict
%dev.leveldb.encryption.enabled=false
%dev.leveldb.security.rbac.enabled=false
%dev.leveldb.encryption.key.path=./data/keys/leveldb-dev.key
%dev.leveldb.encryption.master.password=dev-password
%dev.leveldb.backup.path=./data/backups
%dev.leveldb.backup.retention.days=7
%dev.leveldb.security.allow.anonymous=true

# Test Settings - Disabled Security
%test.leveldb.encryption.enabled=false
%test.leveldb.security.rbac.enabled=false
%test.leveldb.validation.enabled=false
%test.leveldb.backup.encryption.enabled=false
%test.leveldb.security.audit.enabled=false

# Production Settings - Maximum Security
%prod.leveldb.encryption.enabled=true
%prod.leveldb.encryption.hsm.enabled=false
%prod.leveldb.security.rbac.enabled=true
%prod.leveldb.security.allow.anonymous=false
%prod.leveldb.validation.enabled=true
%prod.leveldb.backup.encryption.enabled=true
%prod.leveldb.backup.retention.days=90
%prod.leveldb.security.audit.enabled=true
%prod.leveldb.encryption.master.password=aurigraph-leveldb-prod-2025

# ==================== END LEVELDB SECURITY CONFIGURATION ====================

# ==================== QUANTUM CRYPTOGRAPHY CONFIGURATION (SPRINT 6 - NIST LEVEL 5) ====================

# CRYSTALS-Kyber Configuration (Key Encapsulation Mechanism)
# NIST Level 5 = Kyber-1024 (256-bit quantum security)
aurigraph.crypto.kyber.security-level=5
aurigraph.crypto.kyber.enabled=true
aurigraph.crypto.kyber.algorithm=Kyber-1024

# CRYSTALS-Dilithium Configuration (Digital Signatures)
# NIST Level 5 = Dilithium5 (256-bit quantum security)
aurigraph.crypto.dilithium.security-level=5
aurigraph.crypto.dilithium.enabled=true
aurigraph.crypto.dilithium.algorithm=Dilithium5

# SPHINCS+ Configuration (Hash-based Signatures - Backup)
# NIST Level 5 = SHA2-256s (256-bit quantum security)
aurigraph.crypto.sphincs.security-level=5
aurigraph.crypto.sphincs.enabled=true
aurigraph.crypto.sphincs.algorithm=SHA2-256s

# Quantum Cryptography General Settings
aurigraph.crypto.quantum.enabled=true
aurigraph.crypto.quantum.nist-level=5
aurigraph.crypto.quantum.bit-security=256
aurigraph.crypto.performance.target=10000

# HSM Integration (Hardware Security Module)
aurigraph.crypto.hsm.enabled=false
aurigraph.crypto.hsm.provider=PKCS11
aurigraph.crypto.hsm.library.path=/usr/lib/softhsm/libsofthsm2.so
aurigraph.crypto.hsm.slot=0
aurigraph.crypto.hsm.key-rotation.days=90

# Key Management
aurigraph.crypto.key.rotation.enabled=true
aurigraph.crypto.key.rotation.interval.days=90
aurigraph.crypto.key.storage.encrypted=true
aurigraph.crypto.key.backup.enabled=true

# Performance Metrics
aurigraph.crypto.metrics.enabled=true
aurigraph.crypto.metrics.interval.ms=5000

# Development Settings (Level 3 for faster testing)
%dev.aurigraph.crypto.kyber.security-level=3
%dev.aurigraph.crypto.dilithium.security-level=3
%dev.aurigraph.crypto.sphincs.security-level=3
%dev.aurigraph.crypto.quantum.nist-level=3
%dev.aurigraph.crypto.quantum.bit-security=192
%dev.aurigraph.crypto.hsm.enabled=false
%dev.aurigraph.crypto.key.rotation.enabled=false

# Test Settings (Level 3 for faster tests)
%test.aurigraph.crypto.kyber.security-level=3
%test.aurigraph.crypto.dilithium.security-level=3
%test.aurigraph.crypto.sphincs.security-level=3
%test.aurigraph.crypto.quantum.nist-level=3
%test.aurigraph.crypto.quantum.bit-security=192
%test.aurigraph.crypto.hsm.enabled=false
%test.aurigraph.crypto.metrics.enabled=false

# Production Settings (Level 5 for maximum security)
%prod.aurigraph.crypto.kyber.security-level=5
%prod.aurigraph.crypto.dilithium.security-level=5
%prod.aurigraph.crypto.sphincs.security-level=5
%prod.aurigraph.crypto.quantum.nist-level=5
%prod.aurigraph.crypto.quantum.bit-security=256
%prod.aurigraph.crypto.hsm.enabled=true
%prod.aurigraph.crypto.key.rotation.enabled=true
%prod.aurigraph.crypto.key.rotation.interval.days=90

# ==================== END QUANTUM CRYPTOGRAPHY CONFIGURATION ====================

# ==================== WEBSOCKET CONFIGURATION ====================
# Real-time WebSocket streaming for Enterprise Portal integration
# 5 endpoints: Metrics, Transactions, Validators, Consensus, Network

# WebSocket frame and message limits
quarkus.websockets.max-frame-size=65536
quarkus.websockets.max-message-size=1048576

# Connection limits for production scalability
quarkus.http.limits.max-connections=5000

# WebSocket compression for bandwidth optimization
quarkus.websockets.compression=true
quarkus.websockets.compression-level=6

# Broadcast settings
websocket.broadcast.enabled=true
websocket.broadcast.metrics.interval=1s
websocket.broadcast.compression=true
websocket.broadcast.latency.target.ms=100

# Development WebSocket settings (more verbose logging)
%dev.quarkus.log.category."io.aurigraph.v11.websocket".level=DEBUG
%dev.websocket.broadcast.metrics.interval=2s

# Production WebSocket settings (optimized)
%prod.quarkus.http.limits.max-connections=10000
%prod.websocket.broadcast.compression=true
%prod.quarkus.log.category."io.aurigraph.v11.websocket".level=INFO

# ==================== END WEBSOCKET CONFIGURATION ====================

# ==================== PORTAL CACHING CONFIGURATION ====================
# Cache for Portal API Gateway data services
# Improves response time and reduces backend load

# Blockchain Health & Metrics Caching (30s - updates frequently)
quarkus.cache.type=caffeine
quarkus.cache.caffeine.blockchain-health.expire-after-write=30S
quarkus.cache.caffeine.blockchain-health.maximum-size=100

# System Information Caching (5min - stable during runtime)
quarkus.cache.caffeine.system-info.expire-after-write=5M
quarkus.cache.caffeine.system-info.maximum-size=10

# Blockchain Metrics Caching (10s - updated frequently)
quarkus.cache.caffeine.blockchain-metrics.expire-after-write=10S
quarkus.cache.caffeine.blockchain-metrics.maximum-size=100

# Token & RWA Caching (1min - moderate changes)
quarkus.cache.caffeine.token-data.expire-after-write=1M
quarkus.cache.caffeine.token-data.maximum-size=500

# Analytics Caching (2min - slower changing)
quarkus.cache.caffeine.analytics-data.expire-after-write=2M
quarkus.cache.caffeine.analytics-data.maximum-size=100

# Network Status Caching (30s - updates frequently)
quarkus.cache.caffeine.network-status.expire-after-write=30S
quarkus.cache.caffeine.network-status.maximum-size=100

# ==================== END PORTAL CACHING CONFIGURATION ====================
