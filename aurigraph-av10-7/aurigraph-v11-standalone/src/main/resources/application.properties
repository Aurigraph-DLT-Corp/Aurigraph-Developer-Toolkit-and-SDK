# Aurigraph V11 Standalone Configuration

# Application
quarkus.application.name=aurigraph-v11-standalone
quarkus.application.version=11.0.0

# HTTP Configuration
quarkus.http.port=9003
quarkus.http.host=0.0.0.0

# HTTP/2 Configuration for 2M+ TPS
quarkus.http.http2=true
quarkus.http.limits.max-concurrent-streams=10000
quarkus.http.limits.max-frame-size=16777215
quarkus.http.limits.initial-window-size=1048576
quarkus.http.limits.max-header-size=32768
quarkus.http.limits.max-chunk-size=8192

# gRPC Configuration for High Performance
quarkus.grpc.server.port=9004
quarkus.grpc.server.host=0.0.0.0
quarkus.grpc.server.use-separate-server=true
quarkus.grpc.server.enable-reflection-service=true
quarkus.grpc.server.keep-alive-time=30
quarkus.grpc.server.keep-alive-timeout=5
quarkus.grpc.server.permit-keep-alive-time=10
quarkus.grpc.server.permit-keep-alive-without-calls=true
quarkus.grpc.server.max-inbound-message-size=16777216
quarkus.grpc.server.max-inbound-metadata-size=32768

# Logging
quarkus.log.level=INFO
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Health checks
quarkus.smallrye-health.root-path=/health

# Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true

# Native compilation settings
quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.channel.unix.Socket,--initialize-at-run-time=io.grpc.netty.shaded.io.netty.channel.unix.Socket
quarkus.native.container-build=true
quarkus.native.container-runtime=docker
quarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel:24-java21
quarkus.native.enable-https-url-handler=true
quarkus.native.resources.includes=*.proto

# Virtual Threads (Java 21)
quarkus.virtual-threads.enabled=true
quarkus.virtual-threads.name-pattern=aurigraph-vt-#

# Performance Tuning for 2M+ TPS
quarkus.http.so-reuse-port=true
quarkus.http.tcp-quick-ack=true
quarkus.http.tcp-cork=true
quarkus.http.tcp-fast-open=true

# gRPC Network Optimization
grpc.max-concurrent-streams=10000
grpc.initial-window-size=1048576
grpc.max-frame-size=16777215
grpc.keep-alive-time=30
grpc.keep-alive-timeout=5
grpc.event-loop-threads=0
grpc.use-epoll=true

# Connection Pool Configuration
grpc.pool.max-connections=1000
grpc.pool.min-connections=10
grpc.pool.connection-timeout=30
grpc.pool.health-check-interval=10
grpc.pool.max-idle-time=300

# Stream Compression Configuration
grpc.compression.enabled=true
grpc.compression.algorithm=gzip
grpc.compression.min-size=1024
grpc.compression.level=6
grpc.compression.adaptive=true

# Load Balancer Configuration
grpc.lb.algorithm=LEAST_CONNECTIONS
grpc.lb.health-check-interval=5
grpc.lb.failover-threshold=3
grpc.lb.recovery-interval=30
grpc.lb.sticky-sessions=false

# HyperRAFT++ Consensus Configuration
consensus.node.id=aurigraph-v11-node-1
consensus.validators=aurigraph-v11-node-1,aurigraph-v11-node-2,aurigraph-v11-node-3,aurigraph-v11-node-4,aurigraph-v11-node-5
consensus.election.timeout.ms=1500
consensus.heartbeat.interval.ms=150
consensus.batch.size=10000
consensus.pipeline.depth=16
consensus.parallel.threads=256
consensus.target.tps=2000000

# Development mode
%dev.quarkus.http.port=9003
%dev.quarkus.grpc.server.port=9004
%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."io.aurigraph".level=DEBUG
%dev.quarkus.grpc.server.reflection-service=true

# Development consensus settings (smaller for testing)
%dev.consensus.batch.size=1000
%dev.consensus.parallel.threads=64
%dev.consensus.target.tps=100000
%dev.consensus.election.timeout.ms=1000
%dev.consensus.heartbeat.interval.ms=100

# Production consensus settings (optimized for maximum performance)
%prod.consensus.batch.size=50000
%prod.consensus.pipeline.depth=32
%prod.consensus.parallel.threads=512
%prod.consensus.target.tps=5000000
%prod.consensus.election.timeout.ms=500
%prod.consensus.heartbeat.interval.ms=50

# AI Optimization Configuration - AV11-2002
ai.optimization.enabled=true
ai.optimization.learning.rate=0.001
ai.optimization.model.update.interval.ms=10000
ai.optimization.prediction.window.ms=5000
ai.optimization.anomaly.threshold=0.95
ai.optimization.target.tps=3000000
ai.optimization.min.confidence=0.85

# Predictive Routing Engine Configuration
routing.prediction.enabled=true
routing.prediction.window.ms=1000
routing.load.balance.threshold=0.8
routing.congestion.threshold=0.75
routing.node.count=5
routing.prediction.accuracy.target=0.90

# Anomaly Detection Configuration
anomaly.detection.enabled=true
anomaly.detection.sensitivity=0.95
anomaly.detection.window.size=1000
anomaly.detection.update.interval.ms=5000
anomaly.detection.alert.threshold=0.8
anomaly.detection.response.timeout.ms=30000
anomaly.detection.false.positive.target=0.02

# ML Load Balancer Configuration
ml.loadbalancer.enabled=true
ml.loadbalancer.algorithm=REINFORCEMENT_LEARNING
ml.loadbalancer.rebalance.interval.ms=5000
ml.loadbalancer.prediction.window.ms=10000
ml.loadbalancer.resource.count=8
ml.loadbalancer.load.threshold=0.8
ml.loadbalancer.learning.rate=0.01
ml.loadbalancer.exploration.rate=0.1

# Adaptive Batch Processor Configuration
batch.processor.enabled=true
batch.processor.min.size=100
batch.processor.max.size=50000
batch.processor.default.size=10000
batch.processor.timeout.ms=5000
batch.processor.adaptation.interval.ms=2000
batch.processor.parallel.workers=8
batch.processor.compression.enabled=true
batch.processor.priority.levels=5

# Development AI settings (smaller for testing)
%dev.ai.optimization.target.tps=500000
%dev.routing.node.count=3
%dev.ml.loadbalancer.resource.count=4
%dev.batch.processor.max.size=10000
%dev.batch.processor.parallel.workers=4

# Production AI settings (optimized for maximum performance)
%prod.ai.optimization.target.tps=5000000
%prod.routing.node.count=10
%prod.ml.loadbalancer.resource.count=16
%prod.batch.processor.max.size=100000
%prod.batch.processor.parallel.workers=16
%prod.ai.optimization.learning.rate=0.0001
%prod.ai.optimization.model.update.interval.ms=5000