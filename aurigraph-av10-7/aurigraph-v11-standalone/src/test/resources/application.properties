# Test Configuration for Aurigraph V11
# This configuration overrides main application.properties for testing

# Application
quarkus.application.name=aurigraph-v11-test
quarkus.application.version=11.0.0

# HTTP Configuration for Tests (enable insecure HTTP for testing)
quarkus.http.port=8081
quarkus.http.test-port=0
quarkus.http.host=localhost
quarkus.http.insecure-requests=enabled

# Disable HTTPS/TLS for tests
quarkus.http.ssl-port=-1

# gRPC Test Configuration
quarkus.grpc.server.port=0
quarkus.grpc.server.test-port=0
quarkus.grpc.server.use-separate-server=false
quarkus.grpc.server.enable-reflection-service=true

# Database Configuration for Tests (H2 in-memory)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
quarkus.datasource.username=sa
quarkus.datasource.password=sa
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file
quarkus.hibernate-orm.packages=io.aurigraph.v11,io.aurigraph.v11.system.models,io.aurigraph.v11.channel.models,io.aurigraph.v11.activecontract.models,io.aurigraph.v11.contracts.models,io.aurigraph.v11.token.models

# Transaction Configuration
quarkus.transaction-manager.default-transaction-timeout=120

# Logging Configuration for Tests
quarkus.log.level=INFO
quarkus.log.category."io.aurigraph.v11".level=DEBUG
quarkus.log.category."io.quarkus".level=INFO
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] %s%e%n

# Health checks
quarkus.smallrye-health.root-path=/health

# Metrics (disabled for tests to speed up)
quarkus.micrometer.enabled=false
quarkus.micrometer.export.prometheus.enabled=false

# CORS (disabled for tests)
quarkus.http.cors=false

# Virtual Threads (enabled)
quarkus.virtual-threads.enabled=true
quarkus.virtual-threads.name-pattern=test-vt-#

# Test Optimization
quarkus.test.hang-detection-timeout=180s
quarkus.test.display-test-output=true
quarkus.test.include-tags=
quarkus.test.exclude-tags=slow

# Dev Services (disable for tests)
quarkus.devservices.enabled=false

# REST Assured Configuration
quarkus.rest-assured.scope=io.quarkus.test.junit.QuarkusTest

# JaCoCo Code Coverage
quarkus.jacoco.excludes=**/models/**,**/config/**

# Performance Test Configuration
performance.test.enabled=true
performance.test.min-tps-threshold=10000
performance.test.target-tps=500000

# Consensus Test Configuration
consensus.test.enabled=true
consensus.test.timeout=120

# Crypto Test Configuration
crypto.test.enabled=true
crypto.test.quantum-level=5

# Bridge Test Configuration (faster delays for testing)
bridge.processing.delay.min=100
bridge.processing.delay.max=500
