# Test Configuration for Aurigraph V11
# This configuration disables SSL/TLS for unit tests

# Test port (different from main app)
quarkus.http.port=8081
quarkus.http.test-port=8081

# Allow insecure HTTP for tests
quarkus.http.insecure-requests=enabled

# Disable SSL for tests
quarkus.http.ssl-port=0

# gRPC Test Configuration
# Disable gRPC server for unit tests (services test via mocks)
quarkus.grpc.server.enabled=false
quarkus.grpc.server.test-port=9099

# Enable test integration profile
quarkus.test.integration-test-profile=true

# gRPC Test Clients (for integration tests)
quarkus.grpc.clients.consensus.host=localhost
quarkus.grpc.clients.consensus.port=9099
quarkus.grpc.clients.consensus.plain-text=true
quarkus.grpc.clients.consensus.use-quarkus-grpc-client=true

quarkus.grpc.clients.blockchain.host=localhost
quarkus.grpc.clients.blockchain.port=9099
quarkus.grpc.clients.blockchain.plain-text=true
quarkus.grpc.clients.blockchain.use-quarkus-grpc-client=true

quarkus.grpc.clients.transaction.host=localhost
quarkus.grpc.clients.transaction.port=9099
quarkus.grpc.clients.transaction.plain-text=true
quarkus.grpc.clients.transaction.use-quarkus-grpc-client=true

# Test database (PostgreSQL for consistent environment)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/aurigraph_demos
quarkus.datasource.username=aurigraph
quarkus.datasource.password=aurigraph2025
quarkus.hibernate-orm.database.generation=update

# LevelDB test configuration
leveldb.data.path=./target/test-leveldb-data
leveldb.cache.size.mb=64
leveldb.write.buffer.mb=16

# Test logging
quarkus.log.level=INFO
quarkus.log.console.enable=true
quarkus.log.file.enable=false

# Disable virtual threads for simpler test debugging
quarkus.virtual-threads.enabled=false

# Disable health checks for tests
quarkus.smallrye-health.ui.enable=false

# Disable metrics for tests
quarkus.micrometer.enabled=false

# Test-only configuration values (placeholders)
# Bridge configuration
bridge.ethereum.private.key=test-ethereum-key-0x1234567890abcdef
bridge.solana.private.key=test-solana-key-base58encoded
bridge.solana.program.address=test-solana-program-address
bridge.layerzero.private.key=test-layerzero-key
bridge.layerzero.relayer.address=test-relayer-address
bridge.layerzero.oracle.address=test-oracle-address

# HSM configuration
hsm.pin=test-pin-12345678

# LevelDB encryption
leveldb.encryption.master.password=test-master-password-for-encryption

# LevelDB Security Configuration for Tests (Disable for testing)
leveldb.encryption.enabled=false
leveldb.encryption.key.path=./target/test-data/keys/leveldb-master.key
leveldb.security.rbac.enabled=false
leveldb.security.allow.anonymous=true
leveldb.validation.enabled=true
leveldb.backup.path=./target/test-data/backups/leveldb
leveldb.backup.encryption.enabled=false
leveldb.security.audit.enabled=false
