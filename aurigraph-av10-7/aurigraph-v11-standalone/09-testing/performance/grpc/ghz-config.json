{
  "name": "Aurigraph V12 gRPC Performance Test Suite",
  "description": "Comprehensive gRPC performance testing using ghz for TransactionService and BlockchainService",
  "version": "12.0.0",
  "author": "Sprint 2 - gRPC & Streaming Implementation",
  "jira_ticket": "AV11-517",

  "target": {
    "host": "localhost:9004",
    "insecure": true,
    "proto_path": "../../../src/main/proto/",
    "import_paths": ["../../../src/main/proto/"]
  },

  "scenarios": {
    "transaction_submit": {
      "description": "Single transaction submission performance",
      "service": "io.aurigraph.v11.proto.TransactionService",
      "method": "submitTransaction",
      "concurrency": 100,
      "requests": 10000,
      "duration": "30s",
      "data": {
        "transaction": {
          "from_address": "0x1234567890abcdef1234567890abcdef12345678",
          "to_address": "0xabcdef1234567890abcdef1234567890abcdef12",
          "amount": "1000000000000000000",
          "gas_price": 50.0,
          "gas_limit": 21000.0,
          "nonce": 1,
          "data": "",
          "signature": "0x"
        },
        "prioritize": false,
        "timeout_seconds": 30
      }
    },

    "transaction_batch": {
      "description": "Batch transaction submission (100 tx per batch)",
      "service": "io.aurigraph.v11.proto.TransactionService",
      "method": "batchSubmitTransactions",
      "concurrency": 50,
      "requests": 1000,
      "duration": "60s",
      "data": {
        "transactions": [],
        "batch_id": "perf-test-batch",
        "validate_before_submit": false
      }
    },

    "transaction_status": {
      "description": "Transaction status lookup performance",
      "service": "io.aurigraph.v11.proto.TransactionService",
      "method": "getTransactionStatus",
      "concurrency": 200,
      "requests": 50000,
      "duration": "30s",
      "data": {
        "transaction_hash": "0x1234567890abcdef",
        "include_block_info": true,
        "include_confirmations": true
      }
    },

    "transaction_receipt": {
      "description": "Transaction receipt retrieval",
      "service": "io.aurigraph.v11.proto.TransactionService",
      "method": "getTransactionReceipt",
      "concurrency": 100,
      "requests": 10000,
      "duration": "30s",
      "data": {
        "transaction_hash": "0x1234567890abcdef"
      }
    },

    "gas_estimation": {
      "description": "Gas cost estimation performance",
      "service": "io.aurigraph.v11.proto.TransactionService",
      "method": "estimateGasCost",
      "concurrency": 100,
      "requests": 20000,
      "duration": "30s",
      "data": {
        "from_address": "0x1234567890abcdef",
        "to_address": "0xabcdef1234567890",
        "data": "",
        "amount": "1000000000000000000"
      }
    },

    "blockchain_create_block": {
      "description": "Block creation performance",
      "service": "io.aurigraph.v11.proto.BlockchainService",
      "method": "createBlock",
      "concurrency": 10,
      "requests": 100,
      "duration": "60s",
      "data": {
        "block_id": "perf-test-block",
        "state_root": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "transactions": [],
        "transaction_root": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "validator_count": 5
      }
    },

    "blockchain_get_block_by_number": {
      "description": "Block lookup by number performance",
      "service": "io.aurigraph.v11.proto.BlockchainService",
      "method": "GetBlockByNumber",
      "concurrency": 200,
      "requests": 50000,
      "duration": "30s",
      "data": {
        "block_number": 1
      }
    },

    "blockchain_get_block_by_hash": {
      "description": "Block lookup by hash performance",
      "service": "io.aurigraph.v11.proto.BlockchainService",
      "method": "GetBlockByHash",
      "concurrency": 200,
      "requests": 50000,
      "duration": "30s",
      "data": {
        "hash": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"
      }
    },

    "blockchain_get_latest_block": {
      "description": "Latest block retrieval performance",
      "service": "io.aurigraph.v11.proto.BlockchainService",
      "method": "GetLatestBlock",
      "concurrency": 200,
      "requests": 50000,
      "duration": "30s",
      "data": {}
    },

    "blockchain_statistics": {
      "description": "Blockchain statistics aggregation",
      "service": "io.aurigraph.v11.proto.BlockchainService",
      "method": "getBlockchainStatistics",
      "concurrency": 50,
      "requests": 5000,
      "duration": "30s",
      "data": {
        "time_window_minutes": 5,
        "include_detailed_metrics": true
      }
    },

    "transaction_stream": {
      "description": "Transaction event streaming performance",
      "service": "io.aurigraph.v11.proto.TransactionService",
      "method": "streamTransactionEvents",
      "concurrency": 50,
      "requests": 100,
      "duration": "60s",
      "streaming": true,
      "data": {
        "filter_address": "",
        "include_failed": true,
        "stream_timeout_seconds": 60
      }
    },

    "block_stream": {
      "description": "Block streaming performance",
      "service": "io.aurigraph.v11.proto.BlockchainService",
      "method": "streamBlocks",
      "concurrency": 50,
      "requests": 100,
      "duration": "60s",
      "streaming": true,
      "data": {
        "start_from_height": 0,
        "include_transactions": 2,
        "only_new_blocks": false
      }
    }
  },

  "performance_targets": {
    "transaction_submit": {
      "p50_latency_ms": 10,
      "p95_latency_ms": 50,
      "p99_latency_ms": 100,
      "min_rps": 10000,
      "error_rate_percent": 1.0
    },
    "transaction_batch": {
      "p50_latency_ms": 100,
      "p95_latency_ms": 300,
      "p99_latency_ms": 500,
      "min_rps": 500,
      "error_rate_percent": 1.0
    },
    "transaction_status": {
      "p50_latency_ms": 5,
      "p95_latency_ms": 20,
      "p99_latency_ms": 50,
      "min_rps": 50000,
      "error_rate_percent": 0.1
    },
    "blockchain_get_block_by_number": {
      "p50_latency_ms": 5,
      "p95_latency_ms": 20,
      "p99_latency_ms": 50,
      "min_rps": 50000,
      "error_rate_percent": 0.1
    },
    "blockchain_get_latest_block": {
      "p50_latency_ms": 5,
      "p95_latency_ms": 20,
      "p99_latency_ms": 50,
      "min_rps": 50000,
      "error_rate_percent": 0.1
    }
  }
}
