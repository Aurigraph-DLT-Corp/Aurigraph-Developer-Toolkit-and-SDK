<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurex Enterprise Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="px-6 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-gray-800">üè¢ Aurex Enterprise Portal</h1>
                <p class="text-sm text-gray-600">Integrated Platform v3.0 - All Services Connected</p>
            </div>
            <div class="flex items-center space-x-6">
                <div class="text-sm">
                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full">üü¢ All Systems Operational</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-2xl">üë§</span>
                    <div>
                        <p class="font-medium">Admin User</p>
                        <p class="text-xs text-gray-600">System Administrator</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-gray-800 text-white min-h-screen">
            <div class="p-4">
                <nav>
                    <div class="space-y-2">
                        <a href="#" onclick="showModule('dashboard')" class="block p-3 rounded bg-blue-600">
                            <div class="font-medium">üìä Dashboard</div>
                            <div class="text-xs text-gray-300">Executive Overview</div>
                        </a>
                        <a href="#" onclick="showModule('gnn')" class="block p-3 rounded hover:bg-gray-700">
                            <div class="font-medium">üß† GNN Platform</div>
                            <div class="text-xs text-gray-300">Neural Networks</div>
                        </a>
                        <a href="#" onclick="showModule('sustainability')" class="block p-3 rounded hover:bg-gray-700">
                            <div class="font-medium">üåø Sustainability</div>
                            <div class="text-xs text-gray-300">LCA/PCF Analysis</div>
                        </a>
                        <a href="#" onclick="showModule('agents')" class="block p-3 rounded hover:bg-gray-700">
                            <div class="font-medium">ü§ñ AI Agents</div>
                            <div class="text-xs text-gray-300">Mission Control</div>
                        </a>
                        <a href="#" onclick="showModule('supply')" class="block p-3 rounded hover:bg-gray-700">
                            <div class="font-medium">üîó Supply Chain</div>
                            <div class="text-xs text-gray-300">Network Analysis</div>
                        </a>
                        <a href="#" onclick="showModule('reports')" class="block p-3 rounded hover:bg-gray-700">
                            <div class="font-medium">üìà Reports</div>
                            <div class="text-xs text-gray-300">Analytics & Insights</div>
                        </a>
                    </div>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6">
            <!-- Dashboard Module -->
            <div id="dashboard" class="module">
                <h2 class="text-3xl font-bold mb-6">Executive Dashboard</h2>

                <!-- Metrics Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-lg shadow-md p-6 card-hover border-l-4 border-blue-500">
                        <h3 class="text-gray-600 text-sm font-medium">Active Projects</h3>
                        <p class="text-3xl font-bold mt-2">24</p>
                        <p class="text-sm mt-2 text-green-600">‚Üë 12% from last month</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 card-hover border-l-4 border-green-500">
                        <h3 class="text-gray-600 text-sm font-medium">GNN Models</h3>
                        <p class="text-3xl font-bold mt-2">4</p>
                        <p class="text-sm mt-2 text-green-600">All Active</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 card-hover border-l-4 border-yellow-500">
                        <h3 class="text-gray-600 text-sm font-medium">Carbon Footprint</h3>
                        <p class="text-3xl font-bold mt-2">125 tCO2</p>
                        <p class="text-sm mt-2 text-green-600">‚Üì 8% reduction</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 card-hover border-l-4 border-purple-500">
                        <h3 class="text-gray-600 text-sm font-medium">System Health</h3>
                        <p class="text-3xl font-bold mt-2">98%</p>
                        <p class="text-sm mt-2 text-green-600">Stable</p>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Performance Trends</h3>
                        <canvas id="performanceChart"></canvas>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Resource Utilization</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>CPU</span>
                                    <span>45%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 45%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Memory</span>
                                    <span>62%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 62%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Storage</span>
                                    <span>78%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-yellow-500 h-2 rounded-full" style="width: 78%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GNN Module -->
            <div id="gnn" class="module hidden">
                <h2 class="text-3xl font-bold mb-6">GNN Analytics Platform</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                        <h3 class="text-lg font-semibold mb-2">Supply Chain</h3>
                        <p class="text-4xl font-bold text-blue-600">96%</p>
                        <p class="text-sm text-gray-600 mt-2">Accuracy</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                        <h3 class="text-lg font-semibold mb-2">Water Management</h3>
                        <p class="text-4xl font-bold text-cyan-600">4.2%</p>
                        <p class="text-sm text-gray-600 mt-2">MAPE</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                        <h3 class="text-lg font-semibold mb-2">Carbon Credits</h3>
                        <p class="text-4xl font-bold text-green-600">98%</p>
                        <p class="text-sm text-gray-600 mt-2">Verification Rate</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                        <h3 class="text-lg font-semibold mb-2">Forest Ecosystem</h3>
                        <p class="text-4xl font-bold text-emerald-600">0.87</p>
                        <p class="text-sm text-gray-600 mt-2">Biodiversity Index</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold mb-4">Test Predictions</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <button onclick="testPrediction('supply_chain')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                            Supply Chain
                        </button>
                        <button onclick="testPrediction('water_management')" class="bg-cyan-500 text-white px-4 py-2 rounded hover:bg-cyan-600">
                            Water Mgmt
                        </button>
                        <button onclick="testPrediction('carbon_credit')" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                            Carbon Credits
                        </button>
                        <button onclick="testPrediction('forest_ecosystem')" class="bg-emerald-500 text-white px-4 py-2 rounded hover:bg-emerald-600">
                            Forest Eco
                        </button>
                    </div>
                    <div id="predictionResult" class="mt-4 p-4 bg-gray-50 rounded"></div>
                </div>
            </div>

            <!-- Sustainability Module -->
            <div id="sustainability" class="module hidden">
                <h2 class="text-3xl font-bold mb-6">Sustainability & Environmental Impact</h2>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">LCA/PCF Calculator</h3>
                        <div class="space-y-4">
                            <input type="text" placeholder="Product ID" class="w-full p-3 border rounded">
                            <input type="number" placeholder="Weight (kg)" class="w-full p-3 border rounded">
                            <select class="w-full p-3 border rounded">
                                <option>Select Material</option>
                                <option>Steel</option>
                                <option>Aluminum</option>
                                <option>Plastic</option>
                                <option>Wood</option>
                            </select>
                            <button onclick="calculateLCA()" class="bg-green-500 text-white px-4 py-3 rounded hover:bg-green-600 w-full">
                                Calculate Carbon Footprint
                            </button>
                        </div>
                        <div id="lcaResult" class="mt-4 p-4 bg-gray-50 rounded hidden"></div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Environmental Metrics</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-green-50 rounded">
                                <span>CO2 Reduced</span>
                                <span class="font-bold text-green-600">450 tons</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-blue-50 rounded">
                                <span>Water Saved</span>
                                <span class="font-bold text-blue-600">2.5M liters</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-yellow-50 rounded">
                                <span>Energy Efficiency</span>
                                <span class="font-bold text-yellow-600">35% improved</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-purple-50 rounded">
                                <span>Waste Reduced</span>
                                <span class="font-bold text-purple-600">78%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Agents Module -->
            <div id="agents" class="module hidden">
                <h2 class="text-3xl font-bold mb-6">AI Agent Mission Control</h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="bg-green-100 rounded-lg p-4 text-center">
                        <p class="text-3xl font-bold text-green-800">15</p>
                        <p class="text-sm text-green-600">Active Agents</p>
                    </div>
                    <div class="bg-blue-100 rounded-lg p-4 text-center">
                        <p class="text-3xl font-bold text-blue-800">24</p>
                        <p class="text-sm text-blue-600">Missions Complete</p>
                    </div>
                    <div class="bg-yellow-100 rounded-lg p-4 text-center">
                        <p class="text-3xl font-bold text-yellow-800">96%</p>
                        <p class="text-sm text-yellow-600">Success Rate</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold mb-4">Active AI Agents</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center p-4 bg-gray-50 rounded">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üé®</span>
                                <div>
                                    <p class="font-semibold">Senior Architect</p>
                                    <p class="text-sm text-gray-600">SAA-001</p>
                                </div>
                            </div>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Active</span>
                            <span class="text-sm text-gray-600">156 tasks</span>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-gray-50 rounded">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üõ°Ô∏è</span>
                                <div>
                                    <p class="font-semibold">Security Operations</p>
                                    <p class="text-sm text-gray-600">SOA-001</p>
                                </div>
                            </div>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Active</span>
                            <span class="text-sm text-gray-600">234 tasks</span>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-gray-50 rounded">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">üß†</span>
                                <div>
                                    <p class="font-semibold">Neural Network</p>
                                    <p class="text-sm text-gray-600">NNA-001</p>
                                </div>
                            </div>
                            <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm">Busy</span>
                            <span class="text-sm text-gray-600">45 tasks</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Module switching
        function showModule(moduleName) {
            document.querySelectorAll('.module').forEach(m => m.classList.add('hidden'));
            const module = document.getElementById(moduleName);
            if (module) module.classList.remove('hidden');

            // Update sidebar active state
            document.querySelectorAll('aside a').forEach(a => {
                a.classList.remove('bg-blue-600');
                a.classList.add('hover:bg-gray-700');
            });
            event.target.closest('a').classList.add('bg-blue-600');
            event.target.closest('a').classList.remove('hover:bg-gray-700');
        }

        // Test prediction
        async function testPrediction(modelType) {
            try {
                const response = await fetch('http://localhost:8000/api/gnn/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ model_type: modelType, data: { test: true } })
                });
                const result = await response.json();
                document.getElementById('predictionResult').innerHTML =
                    `<strong>‚úÖ Prediction Result:</strong><pre>${JSON.stringify(result.prediction, null, 2)}</pre>`;
            } catch (error) {
                document.getElementById('predictionResult').innerHTML =
                    `<strong>üìä Mock Result:</strong><pre>{ "risk_score": 0.${Math.floor(Math.random() * 100)}, "status": "analyzed" }</pre>`;
            }
        }

        // Calculate LCA
        function calculateLCA() {
            const result = {
                carbon_footprint: (Math.random() * 500 + 100).toFixed(2),
                water_usage: (Math.random() * 5000 + 1000).toFixed(0),
                energy_consumption: (Math.random() * 200 + 50).toFixed(2)
            };

            document.getElementById('lcaResult').classList.remove('hidden');
            document.getElementById('lcaResult').innerHTML = `
                <strong>üìä LCA Results:</strong>
                <div class="mt-2 space-y-2">
                    <p>üåç Carbon Footprint: ${result.carbon_footprint} kg CO2</p>
                    <p>üíß Water Usage: ${result.water_usage} liters</p>
                    <p>‚ö° Energy: ${result.energy_consumption} kWh</p>
                </div>
            `;
        }

        // Initialize performance chart
        window.addEventListener('load', () => {
            const ctx = document.getElementById('performanceChart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'System Performance',
                            data: [85, 88, 92, 87, 95, 91, 93],
                            borderColor: 'rgb(99, 102, 241)',
                            backgroundColor: 'rgba(99, 102, 241, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        });
    </script>
</body>
</html>
