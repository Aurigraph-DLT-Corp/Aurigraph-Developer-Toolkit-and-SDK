# Aurigraph DLT Credentials
# SECURITY CRITICAL: This file contains sensitive credentials
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to doc/Credentials.md
# 2. Fill in actual values (remove EXAMPLE_ prefixes)
# 3. NEVER commit doc/Credentials.md to Git (already in .gitignore)
# 4. Rotate credentials every 90 days minimum
# 5. Use SSH keys instead of passwords when possible
#
# This file is .gitignored - see .gitignore lines 152-156

## JIRA/Atlassian API Access

```bash
# JIRA REST API v3 Configuration
export JIRA_EMAIL="EXAMPLE_your-email@aurigraph.io"
export JIRA_API_TOKEN="EXAMPLE_your-jira-api-token-here"
export JIRA_BASE_URL="https://aurigraphdlt.atlassian.net"
export JIRA_PROJECT_KEY="AV11"
```

**How to obtain JIRA API Token:**
1. Visit: https://id.atlassian.com/manage-profile/security/api-tokens
2. Click "Create API token"
3. Label it "Aurigraph DLT CLI - [Your Name] - [Date]"
4. Copy immediately (won't be shown again)
5. Paste above, removing EXAMPLE_ prefix

**Permissions Required:**
- Browse projects
- Create issues
- Edit issues
- Transition issues
- Add comments

---

## Remote Server SSH Access

```bash
# Production Server: dlt.aurigraph.io
export REMOTE_HOST="dlt.aurigraph.io"
export REMOTE_PORT="22"
export REMOTE_USER="EXAMPLE_your-username"
export REMOTE_PASSWORD="EXAMPLE_your-password-here"
export REMOTE_DEPLOY_PATH="/opt/aurigraph-v11"
```

**Server Specifications:**
- OS: Ubuntu 24.04.3 LTS
- RAM: 49Gi
- vCPU: 16 cores
- Disk: 133G
- Docker: 28.4.0

**SSH Key Setup (Recommended over passwords):**
```bash
# Generate SSH key (if you don't have one)
ssh-keygen -t ed25519 -C "your-email@aurigraph.io"

# Copy public key to server
ssh-copy-id -p 22 ${REMOTE_USER}@${REMOTE_HOST}

# Test connection
ssh -p 22 ${REMOTE_USER}@${REMOTE_HOST} "echo 'Connected successfully'"

# After SSH key setup, you can remove REMOTE_PASSWORD from this file
```

---

## IAM2 Server (Keycloak) - DEVELOPMENT ONLY

```bash
# IAM2 Keycloak Server
export IAM2_URL="https://iam2.aurigraph.io/"
export IAM2_ADMIN_USERNAME="EXAMPLE_admin-username"
export IAM2_ADMIN_PASSWORD="EXAMPLE_admin-password-here"
```

**Supported Realms:**
- AWD (Primary realm)
- AurCarbonTrace (Carbon tracking)
- AurHydroPulse (Hydro monitoring)

**⚠️ SECURITY WARNING:**
- These are DEVELOPMENT credentials only
- DO NOT use in production
- Production must use HashiCorp Vault, AWS Secrets Manager, or Azure Key Vault
- Implement proper key rotation policies (90 days)

---

## GitHub Access

```bash
# GitHub API and Git Operations
export GITHUB_TOKEN="EXAMPLE_ghp_your-github-personal-access-token"
export GITHUB_REPO="Aurigraph-DLT-Corp/Aurigraph-DLT"
export GITHUB_USER="EXAMPLE_your-github-username"
```

**How to create GitHub Personal Access Token:**
1. Visit: https://github.com/settings/tokens
2. Click "Generate new token" → "Classic"
3. Scopes: `repo`, `workflow`, `read:org`
4. Expiry: 90 days (set calendar reminder to renew)
5. Copy immediately and paste above

---

## Database Credentials

```bash
# H2 Database (Development)
export DB_URL="jdbc:h2:mem:aurigraph_v11;DB_CLOSE_DELAY=-1;MODE=PostgreSQL"
export DB_USER="EXAMPLE_aurigraph"
export DB_PASSWORD="EXAMPLE_your-db-password-here"

# H2 Database (Production)
export PROD_DB_URL="jdbc:h2:mem:aurigraph_v11_prod;DB_CLOSE_DELAY=-1;MODE=PostgreSQL"
export PROD_DB_USER="EXAMPLE_aurigraph_prod"
export PROD_DB_PASSWORD="EXAMPLE_your-prod-db-password-here"
```

**Migration Plan:**
- Current: H2 in-memory (temporary)
- Future: LevelDB per-node embedded storage
- Production: Consider PostgreSQL for compliance/audit data

---

## LevelDB Encryption Keys

```bash
# LevelDB Master Encryption Key (AES-256-GCM)
export LEVELDB_ENCRYPTION_MASTER_PASSWORD="EXAMPLE_your-strong-password-here-min-32-chars"
export LEVELDB_ENCRYPTION_KEY_PATH="/var/lib/aurigraph/keys/leveldb-master.key"
export LEVELDB_BACKUP_ENCRYPTION_PASSWORD="EXAMPLE_your-backup-password-here"
```

**Key Rotation Schedule:**
- Master key: Every 90 days
- Backup encryption: Every 30 days
- HSM keys: Every 180 days (if using HSM)

**Key Generation:**
```bash
# Generate strong random password (32+ characters)
openssl rand -base64 48

# Generate encryption key file
openssl rand -out /var/lib/aurigraph/keys/leveldb-master.key 32
chmod 600 /var/lib/aurigraph/keys/leveldb-master.key
```

---

## HSM (Hardware Security Module)

```bash
# HSM Configuration (Production Only)
export HSM_PIN="EXAMPLE_your-hsm-pin-here"
export HSM_PROVIDER="PKCS11"
export HSM_SLOT="0"
export HSM_KEY_LABEL="aurigraph-v11-master-key"
```

**HSM Setup:**
- Required for production deployment
- NIST FIPS 140-2 Level 3 or higher
- Supports CRYSTALS-Dilithium quantum-safe signatures

---

## Cross-Chain Bridge Credentials

```bash
# Ethereum Bridge
export BRIDGE_ETH_KEY="EXAMPLE_0x-your-ethereum-private-key-here"
export BRIDGE_ETH_RPC="https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID"

# Solana Bridge
export BRIDGE_SOL_KEY="EXAMPLE_your-solana-private-key-base58-here"
export BRIDGE_SOL_RPC="https://api.mainnet-beta.solana.com"
export BRIDGE_SOL_PROGRAM="EXAMPLE_your-solana-program-address-here"

# LayerZero Configuration
export BRIDGE_LZ_KEY="EXAMPLE_your-layerzero-private-key-here"
export BRIDGE_LZ_RELAYER="EXAMPLE_your-layerzero-relayer-address-here"
export BRIDGE_LZ_ORACLE="EXAMPLE_your-layerzero-oracle-address-here"

# BSC (Binance Smart Chain)
export BRIDGE_BSC_KEY="EXAMPLE_0x-your-bsc-private-key-here"
export BRIDGE_BSC_RPC="https://bsc-dataseed.binance.org"

# Polygon
export BRIDGE_POLYGON_KEY="EXAMPLE_0x-your-polygon-private-key-here"
export BRIDGE_POLYGON_RPC="https://polygon-rpc.com"

# Avalanche
export BRIDGE_AVALANCHE_KEY="EXAMPLE_0x-your-avalanche-private-key-here"
export BRIDGE_AVALANCHE_RPC="https://api.avax.network/ext/bc/C/rpc"
```

**⚠️ CRITICAL SECURITY:**
- NEVER commit private keys to Git
- Use separate keys for dev/staging/prod
- Monitor bridge wallets for unauthorized transactions
- Set up alerts for large transfers (>$100K)
- Regular security audits every 30 days

---

## API Keys & External Services

```bash
# Performance Monitoring
export DATADOG_API_KEY="EXAMPLE_your-datadog-api-key"
export NEWRELIC_LICENSE_KEY="EXAMPLE_your-newrelic-license-key"

# Alerting
export SLACK_WEBHOOK_URL="EXAMPLE_https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
export PAGERDUTY_API_KEY="EXAMPLE_your-pagerduty-integration-key"

# Email Notifications
export SENDGRID_API_KEY="EXAMPLE_your-sendgrid-api-key"
export EMAIL_FROM="noreply@aurigraph.io"
export ALERT_EMAIL="EXAMPLE_alerts@aurigraph.io"
```

---

## Compliance & KYC/AML Providers

```bash
# KYC Provider (Jumio/Onfido/etc)
export KYC_PROVIDER_API_KEY="EXAMPLE_your-kyc-provider-api-key"
export KYC_PROVIDER_SECRET="EXAMPLE_your-kyc-provider-secret"

# AML Screening (Chainalysis/Elliptic/etc)
export AML_PROVIDER_API_KEY="EXAMPLE_your-aml-provider-api-key"

# Sanctions Screening
export SANCTIONS_API_KEY="EXAMPLE_your-sanctions-screening-api-key"
```

---

## SSL/TLS Certificates

```bash
# Certificate Paths (Nginx handles TLS termination)
export SSL_CERT_PATH="/etc/letsencrypt/live/dlt.aurigraph.io/fullchain.pem"
export SSL_KEY_PATH="/etc/letsencrypt/live/dlt.aurigraph.io/privkey.pem"

# Certificate Authority
export CA_CERT_PATH="/etc/ssl/certs/ca-certificates.crt"
```

**Certificate Renewal:**
```bash
# Auto-renewal with certbot (Let's Encrypt)
sudo certbot renew --nginx --deploy-hook "systemctl reload nginx"

# Manual renewal (if needed)
sudo certbot certonly --nginx -d dlt.aurigraph.io
```

---

## Loading Credentials

**Method 1: Source this file**
```bash
# Copy example to actual file
cp doc/Credentials.md.example doc/Credentials.md

# Edit with your actual credentials
nano doc/Credentials.md

# Source credentials in your shell
source doc/Credentials.md

# Verify loaded
echo $JIRA_EMAIL
```

**Method 2: Use .env file**
```bash
# Convert to .env format
cat doc/Credentials.md | grep "export" | sed 's/export //' > .env

# Load with dotenv
# (automatic in most modern frameworks)
```

**Method 3: CI/CD Secrets**
```bash
# GitHub Actions: Use repository secrets
# GitLab CI: Use CI/CD variables
# Jenkins: Use credentials plugin
```

---

## Security Checklist

- [ ] Credentials.md copied from .example and filled with real values
- [ ] Credentials.md is NOT committed to Git (.gitignore verified)
- [ ] JIRA API token created with minimum required permissions
- [ ] SSH keys set up (password authentication disabled)
- [ ] GitHub PAT created with 90-day expiry
- [ ] Database passwords are strong (32+ characters)
- [ ] LevelDB encryption keys generated with openssl
- [ ] HSM configured for production (if applicable)
- [ ] Bridge private keys secured in hardware wallet/HSM
- [ ] All external API keys valid and tested
- [ ] SSL certificates valid (check: `openssl s_client -connect dlt.aurigraph.io:443`)
- [ ] Calendar reminders set for credential rotation (90 days)
- [ ] Backup credentials stored in secure vault (1Password/Bitwarden)
- [ ] Team members have individual credentials (no sharing)
- [ ] Audit log enabled for credential usage

---

## Emergency Credential Rotation

**If credentials are compromised:**

1. **Immediate Actions (0-15 minutes):**
   ```bash
   # Revoke compromised credentials
   # - JIRA: Delete API token immediately
   # - GitHub: Revoke PAT
   # - Server: Disable user account
   # - Bridge: Transfer funds to new wallet
   ```

2. **Generate New Credentials (15-30 minutes):**
   ```bash
   # Create new JIRA API token
   # Generate new SSH keys
   # Create new GitHub PAT
   # Generate new bridge wallet
   ```

3. **Update Systems (30-60 minutes):**
   ```bash
   # Update doc/Credentials.md
   # Update CI/CD secrets
   # Update server environment variables
   # Restart services with new credentials
   ```

4. **Post-Incident (1-24 hours):**
   ```bash
   # Review audit logs
   # Document incident
   # Update security procedures
   # Notify stakeholders if required
   ```

---

## Credential Rotation Schedule

| Credential Type | Rotation Frequency | Next Rotation Date | Owner |
|----------------|-------------------|-------------------|-------|
| JIRA API Token | 90 days | YYYY-MM-DD | DevOps Team |
| SSH Keys | 180 days | YYYY-MM-DD | DevOps Team |
| GitHub PAT | 90 days | YYYY-MM-DD | Development Team |
| Database Passwords | 90 days | YYYY-MM-DD | DBA |
| LevelDB Master Key | 90 days | YYYY-MM-DD | Security Team |
| Bridge Private Keys | 180 days | YYYY-MM-DD | Security Team |
| SSL Certificates | 90 days (auto) | YYYY-MM-DD | DevOps Team |

---

**Last Updated:** 2025-10-16
**Document Owner:** DevOps & Security Team
**Classification:** CONFIDENTIAL - NEVER COMMIT TO GIT
