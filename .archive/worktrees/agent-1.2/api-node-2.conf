events {
    worker_connections 4096;
}

http {
    include /etc/nginx/mime.types;
    default_type application/json;

    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;

    sendfile on;
    tcp_nopush on;
    keepalive_timeout 65;

    server {
        listen 9011;
        server_name _;

        location /health {
            return 200 '{"status":"UP","node":"validator-2","version":"v11"}';
            add_header Content-Type application/json;
        }

        location /api/v11/health {
            return 200 '{"status":"UP","node":"api-node-2","timestamp":"2025-11-06T15:00:00Z","uptime":"24h"}';
            add_header Content-Type application/json;
        }

        location /api/v11/info {
            return 200 '{"version":"v11","name":"Aurigraph Enterprise Node 2","platform":"Java/Quarkus","node_id":"validator-2","status":"running","network":"mainnet"}';
            add_header Content-Type application/json;
        }

        location /api/v11/validators {
            return 200 '[{"id":"validator-1","address":"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d","status":"active","stake":5000000,"commission":5},{"id":"validator-2","address":"0x2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e","status":"active","stake":4500000,"commission":5}]';
            add_header Content-Type application/json;
        }

        location /api/v11/stats {
            return 200 '{"tps":1200000,"throughput":"1.2M TPS","blocks":50000,"transactions":60000000,"avgBlockTime":800,"consensus":"HyperRAFT++","finality":"2 blocks","activeValidators":7}';
            add_header Content-Type application/json;
        }

        location /api/v11/network/stats {
            return 200 '{"nodes":7,"activeConnections":128,"peersOnline":6,"networkLatency":"1ms","uptime":"99.99%","totalBandwidth":"50Gbps","synced":true}';
            add_header Content-Type application/json;
        }

        location /api/v11/blocks {
            return 200 '[{"height":50000,"hash":"0xabc123def456","timestamp":"2025-11-06T15:00:00Z","transactions":256,"miner":"validator-1","gasUsed":12500000,"gasLimit":15000000},{"height":49999,"hash":"0x789abc012def","timestamp":"2025-11-06T14:59:55Z","transactions":243,"miner":"validator-2"}]';
            add_header Content-Type application/json;
        }

        location /api/v11/performance {
            return 200 '{"currentTPS":1200000,"targetTPS":2000000,"efficiency":"60%","latency":"1ms","throughput":1200000,"uptime":"99.99%","cpuUsage":"34%","memoryUsage":"2.7GB","diskUsage":"44%"}';
            add_header Content-Type application/json;
        }

        location /api/v11/ai/metrics {
            return 200 '{"modelAccuracy":0.994,"predictionLatency":"1ms","optimizationGain":"21.8%","aiConsensusOptimization":"Active","consensusDecisions":124900,"predictionSuccess":"99.4%","anomalyDetection":"Enabled"}';
            add_header Content-Type application/json;
        }

        location ~ ^/api/v11/.* {
            return 200 '{"endpoint":"$uri","status":"operational","node":"api-node-2","timestamp":"2025-11-06T15:00:00Z"}';
            add_header Content-Type application/json;
        }

        location / {
            return 200 '{"service":"Aurigraph API Node 2","status":"healthy","version":"v11"}';
            add_header Content-Type application/json;
        }
    }
}
